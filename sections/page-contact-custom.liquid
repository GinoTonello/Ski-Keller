<div class="Container">
    <header class="PageHeader">
      <div class="SectionHeader SectionHeader--center">
        <h1 class="SectionHeader__Heading Heading u-h1">{{ page.title }}</h1>
      </div>
    </header>
  
    <div class="PageContent PageContent--narrow">
      <div class="Rte">
  
        {%- form 'contact', class: 'Form Form--spacingTight' -%}
          {%- if form.posted_successfully? -%}
            <p class="Alert Alert--success">{{ 'contact.form.successfully_sent' | t }}</p>
          {%- endif -%}
  
          {%- if form.errors -%}
            <div class="Form__Alert Alert Alert--error">
              <ul class="Alert__ErrorList">
                {%- for field in form.errors -%}
                  {%- if field == 'form' -%}
                    <li class="Alert__ErrorItem">{{ form.errors.messages[field] }}</li>
                  {%- else -%}
                    <li class="Alert__ErrorItem"><strong>{{ form.errors.translated_fields[field] }}</strong> {{ form.errors.messages[field] }}</li>
                  {%- endif -%}
                {%- endfor -%}
              </ul>
            </div>
          {%- endif -%}
  
          <div class="Form__Group">
            <div class="Form__Item">
              <input type="text" class="Form__Input" name="contact[name]" aria-label="{{ 'contact.form.name' | t }}" placeholder="{{ 'contact.form.name' | t }}" required {% if customer %}value="{{ customer.name }}"{% endif %}>
              <label class="Form__FloatingLabel">{{ 'contact.form.name' | t }}</label>
            </div>
  
            <div class="Form__Item">
              <input type="email" class="Form__Input" name="contact[email]" aria-label="{{ 'contact.form.email' | t }}" placeholder="{{ 'contact.form.email' | t }}" required {% if customer %}value="{{ customer.email }}"{% endif %}>
              <label class="Form__FloatingLabel">{{ 'contact.form.email' | t }}</label>
            </div>
          </div>
  
          {%- for block in section.blocks -%}
            {%- assign field_title = block.settings.title -%}
  
            {%- if field_title == blank -%}
              {%- capture field_title -%}Custom field {% increment custom_field %}{%- endcapture -%}
            {%- endif -%}
  
            {%- if block.type == 'text' -%}
              <div class="Form__Item">
                {%- if block.settings.use_long_text -%}
                  <textarea name="contact[{{ field_title | escape }}]" cols="30" rows="10" class="Form__Textarea" aria-label="{{ block.settings.title | escape }}" placeholder="{{ block.settings.title | escape }}" {% if block.settings.is_required %}required{% endif %}></textarea>
                  <label class="Form__FloatingLabel">{{ block.settings.title | escape }}</label>
                {%- else -%}
                  <input type="text" class="Form__Input" name="contact[{{ field_title | escape }}]" aria-label="{{ block.settings.title | escape }}" placeholder="{{ block.settings.title | escape }}" {% if block.settings.is_required %}required{% endif %}>
                  <label class="Form__FloatingLabel">{{ block.settings.title | escape }}</label>
                {%- endif -%}
              </div>
            {%- elsif block.type == 'dropdown' -%}
              {%- assign values = block.settings.values | split: ',' -%}
  
              {%- if values == empty -%}
                {%- continue -%}
              {%- endif -%}
  
              <div class="Form__Item">
                <div class="Form__Select Select Select--primary">
                  {%- render 'icon' with 'select-arrow' -%}
  
                  <select name="contact[{{ field_title | escape }}]" title="{{ block.settings.title | escape }}" required>
                    <option value="" disabled selected>{{ block.settings.title | escape }}</option>
  
                    {%- for value in values -%}
                      {%- assign trim_value = value | strip -%}
  
                      <option value="{{ trim_value | escape }}">{{ trim_value | escape }}</option>
                    {%- endfor -%}
                  </select>
                </div>
              </div>
            {%- endif -%}
          {%- endfor -%}
  
          <div class="Form__Item">
            <textarea name="contact[body]" cols="30" rows="10" class="Form__Textarea" aria-label="{{ 'contact.form.message' | t }}" placeholder="{{ 'contact.form.message' | t }}" required></textarea>
            <label class="Form__FloatingLabel">{{ 'contact.form.message' | t }}</label>
          </div>
        <div class="Form__Item">
            <input class="Datenschutz" type="checkbox" name="datenschutz" value="Datenschutz" required>
                <label class="Datenschutz" >Ich habe die Datenschutzerklärung zur Kenntnis genommen.</label>
        </div>
          <button type="submit" class="Form__Submit Button Button--primary Button--full">{{ 'contact.form.submit' | t }}</button>
        {%- endform -%}
      </div>
      {{- page.content -}}
    </div>
  </div>
  <div class="Filialen">
    <table width="100%">
        <tbody>
            <tr>
                <td>Filiale Eicherscheid</td>
                <td>Filiale Würselen</td>
                <td>Servicestelle Düren</td>
            </tr>
            <tr>
                <td>Eicherscheid 41 <br> 52152 Simmeratd</td>
                <td>Lindenstraße 13 <br> 52146 Würselen</td>
                <td>Friedenstr. 79 <br> 52351 Düren</td>
            </tr>
            <tr>
                <td><a href="tel:0247387928">02473 / 87 92 8</a></td>
                <td><a href="tel:024058985399">02405 / 89 85 39 9</a></td>
                <td><a href="tel:0242135632">02421 / 35 63 2</a></td>
            </tr>
            <tr>
                <td><a href="mailto:mail@ski-keller.de">mail@ski-keller.de</a></td>
                <td><a href="mailto:mail@ski-keller.de">mail@ski-keller.de</a></td>
                <td><a href="mailto:mail@ski-keller.de">mail@ski-keller.de</a></td>
            </tr>
            <tr>
                <td style="padding:0 5px;"><a href="http://www.google.de/maps/dir//Ski-Keller+Kaulard+%26+Schroiff,+Eicherscheid+41,+52152+Simmerath" target="_blank"><img src="https://cdn.shopify.com/s/files/1/0551/0525/7661/files/mapview.jpg?v=1636463099"></td>
                <td style="padding:0 5px;"><a href="http://www.google.de/maps/dir//Ski-Keller+Kaulard+%26+Schroiff,+Lindenstra%C3%9Fe+13,+52146+W%C3%BCrselen" target="_blank"><img src="https://cdn.shopify.com/s/files/1/0551/0525/7661/files/mapview_2.jpg?v=1636463099"></a></td>
                <td style="padding:0 5px;"><a href="http://www.google.de/maps/dir//Friedenstr.+79,52351+D%C3%BCren" target="_blank"><img src="https://cdn.shopify.com/s/files/1/0551/0525/7661/files/mapview_1.jpg?v=1636463099"></a></td>
            </tr>
        </tbody>
    </table>
</div>
  
  {% schema %}
  {
    "name": "Contact page",
    "settings": [],
    "blocks": [
      {
        "type": "text",
        "name": "Text field",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Name",
            "default": "Custom field"
          },
          {
            "type": "checkbox",
            "id": "use_long_text",
            "label": "Use long text",
            "default": false
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Field is required",
            "default": false
          }
        ]
      },
      {
        "type": "dropdown",
        "name": "Dropdown",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Name",
            "default": "Custom field"
          },
          {
            "type": "text",
            "id": "values",
            "label": "Values",
            "info": "Separate each value by a comma.",
            "default": "value 1, value 2, value 3"
          }
        ]
      }
    ],
    "default": {
      "blocks": [
        {
          "type": "text",
          "settings": {
            "title": "Your phone (optional)"
          }
        }
      ]
    }
  }
  {% endschema %}